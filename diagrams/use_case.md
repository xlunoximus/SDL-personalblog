# Диаграмма вариантов использования

![Диаграмма вариантов использования](https://github.com/xlunoximus/SDL-personalblog/blob/main/diagrams/png/Use_Case.png)

## Глоссарий

| Термин                     | Определение                                                                                   |
| :------------------------- | :-------------------------------------------------------------------------------------------- |
| Пользователь               | Человек, использующий платформу для чтения, создания и комментирования постов.                |
| Зарегистрированный пользователь | Пользователь, создавший учетную запись и имеющий доступ к функциям создания и редактирования. |
| Посетитель                 | Гость системы, который имеет доступ только к просмотру опубликованных постов.                 |
| Автор                      | Зарегистрированный пользователь с правами на создание, редактирование и удаление своих постов. |
| Читатель                   | Зарегистрированный пользователь без прав на создание постов.                                 |
| Пост                       | Статья или запись, созданная Автором, содержащая заголовок, содержание и дату публикации.     |
| Комментарий                | Отзыв или ответ на пост, оставленный зарегистрированным пользователем.                        |
| Аутентификация             | Процесс проверки личности пользователя по логину и паролю.                                    |
| JWT (JSON Web Token)       | Токен, используемый для аутентификации и авторизации пользователя в системе.                  |
| Сессия пользователя        | Временный период активности пользователя после входа в систему.                               |
| Данные формы               | Информация, введенная пользователем в поля регистрации или создания поста.                    |
| API                        | Интерфейс программирования приложений, посредством которого фронтенд взаимодействует с бэкендом. |
| База данных                | Хранилище данных о пользователях, постах и комментариях.                                      |

## Содержание

1. [Актёры](#actors)
2. [Варианты использования](#use_case)
2.1. [Просмотр списка постов](#view_posts)
2.2. [Просмотр деталей поста](#view_post_details)
2.3. [Создание поста](#create_post)
2.4. [Редактирование поста](#edit_post)
2.5. [Удаление поста](#delete_post)
2.6. [Добавление комментария](#add_comment)

---

## 1. Актёры

| Актёр             | Описание                                                                 |
| :---------------- | :----------------------------------------------------------------------- |
| Посетитель        | Пользователь без регистрации, ограниченный просмотром публичных постов.   |
| Зарегистрированный пользователь | Пользователь с аккаунтом, может создавать комментарии.                |
| Автор             | Зарегистрированный пользователь с правами на создание и управление постами. |
| Система (Backend) | Серверное приложение, обрабатывающее запросы и управляющее данными.      |

---

## 2. Варианты использования

### 2.1. Просмотр списка постов

*   **Описание.** Показывает список всех опубликованных постов.
*   **Предусловия.** Доступ к главной странице.
*   **Основной поток.**
    1.  Посетитель или пользователь переходит на главную страницу.
    2.  Система отправляет запрос GET /api/posts.
    3.  Система извлекает список постов из базы данных.
    4.  Система отображает посты в виде карточек (заголовок, дата, автор, отрывок).

### 2.2. Просмотр деталей поста

*   **Описание.** Показывает полный текст поста, дату, автора и комментарии.
*   **Предусловия.** Пост существует, пользователь находится на странице списка постов.
*   **Основной поток.**
    1.  Пользователь или Посетитель кликает на карточку поста.
    2.  Система отправляет запрос GET /api/posts/{id}.
    3.  Система извлекает детали поста из базы данных.
    4.  Система отображает полный контент поста.
    5.  Если пользователь авторизован, отображается форма добавления комментария.

### 2.3. Создание поста

*   **Описание.** Позволяет Автору создать новый пост.
*   **Предусловия.** Пользователь авторизован как Автор.
*   **Основной поток.**
    1.  Автор переходит на страницу "Мои посты" и нажимает "Новый пост".
    2.  Автор вводит заголовок и содержание поста.
    3.  Автор нажимает "Опубликовать".
    4.  Система проверяет, что поля не пусты.
    5.  Система устанавливает дату публикации и связывает пост с автором.
    6.  Система сохраняет пост в базе данных через POST /api/posts.
    7.  Система перенаправляет на страницу нового поста.

### 2.4. Редактирование поста

*   **Описание.** Позволяет Автору изменить содержание своего поста.
*   **Предусловия.** Пользователь авторизован как Автор, пост принадлежит ему.
*   **Основной поток.**
    1.  Автор переходит на страницу своего поста.
    2.  Нажимает кнопку "Редактировать".
    3.  Система загружает текущие данные поста в форму редактирования.
    4.  Автор изменяет заголовок или содержание.
    5.  Автор нажимает "Сохранить".
    6.  Система проверяет данные.
    7.  Система обновляет пост в базе данных через PUT /api/posts/{id}.
    8.  Система перенаправляет на обновленную страницу поста.

### 2.5. Удаление поста

*   **Описание.** Позволяет Автору удалить свой пост.
*   **Предусловия.** Пользователь авторизован как Автор, пост принадлежит ему.
*   **Основной поток.**
    1.  Автор переходит на страницу своего поста.
    2.  Нажимает кнопку "Удалить".
    3.  Система показывает диалог подтверждения.
    4.  Автор подтверждает удаление.
    5.  Система удаляет пост и связанные комментарии из базы данных через DELETE /api/posts/{id}.
    6.  Система перенаправляет на главную страницу.

### 2.6. Добавление комментария

*   **Описание.** Позволяет зарегистрированному пользователю оставить комментарий к посту.
*   **Предусловия.** Пользователь авторизован, пост существует.
*   **Основной поток.**
    1.  Пользователь просматривает детали поста.
    2.  Вводит текст комментария в форму.
    3.  Нажимает "Отправить".
    4.  Система проверяет, что текст не пуст.
    5.  Система связывает комментарий с постом и пользователем.
    6.  Система сохраняет комментарий в базе данных через POST /api/comments/{postId}.
    7.  Система обновляет отображение секции комментариев.